appId: com.rendyhd.vicu
productName: Vicu
copyright: Copyright (c) 2024-2026 rendyhd

directories:
  buildResources: build
  output: dist

files:
  - out/**/*
  - resources/**/*
  - "!node_modules/**/{test,__tests__,tests,*.test.*,*.spec.*}"

extraResources:
  - from: resources/
    to: resources/
    filter:
      - "**/*"
  - from: extensions/
    to: extensions/
    filter:
      - "**/*"

asarUnpack:
  - "node_modules/koffi/**"

win:
  icon: build/icon.ico
  target:
    - target: nsis
      arch:
        - x64

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  license: LICENSE
  installerIcon: build/icon.ico
  uninstallerIcon: build/icon.ico
  installerHeaderIcon: build/icon.ico
  deleteAppDataOnUninstall: false
  differentialPackage: false

mac:
  icon: resources/icon.icns
  category: public.app-category.productivity
  darkModeSupport: true
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
  target:
    - target: dmg
      arch:
        - arm64
    - target: zip
      arch:
        - arm64
  extendInfo:
    NSAppleEventsUsageDescription: "Vicu needs automation access to detect the active browser tab for quick task entry."

dmg:
  sign: false
  artifactName: "${productName}-${version}-${arch}.${ext}"

publish:
  provider: github
  releaseType: release
  publishAutoUpdate: false
